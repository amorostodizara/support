<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support de formation </title>
    <!-- Importation d'une police moderne -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./style.css"> 

    <link rel="icon" type="image/png" href="./assets/favicon.png">
    <link rel="icon" type="image/svg+xml" href="./assets/favicon.svg">
    <link rel="icon" type="image/x-icon" href="./assets/favicon.ico">

    <link rel="apple-touch-icon" href="./assets/favicon.png">

</head>
<body>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="navbar-logo">
        <img src="assets/favicon.png" alt="Logo ODC" 
                 onerror="this.onerror=null; this.outerHTML='[ODC]';" 
                 title="ODC Club ">
            <span class="odc"> ODC </span>Club Fianarantsoa
        </div>
        <div class="nav-status">02 au 05 Décembre 2025</div>
    </nav>

    <!-- Contenu Principal Centré -->
    <main class="main-container">
        
        <div class="title-section">
            <h1>Supports de Formation</h1>
            <p class="subtitle">Maîtrisez le système d'exploitation Linux</p>
        </div>

        <div class="button-grid">
            
            <!-- Bouton 1 : ODC Club -->
            <!-- Ajout de l'attribut data-filesize pour la taille simulée du fichier -->
            <a href="assets/support_de_presentation.pdf" download="support_de_presentation.pdf" class="download-card" 
               onclick="downloadFile(event, this)"  target="_blank" rel="noopener noreferrer" data-filesize="750 Ko" >
                <div class="icon-box">
                    <!-- Icône PDF Générique -->
                    <svg viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-3 15v-4h2v4h-2zm3-8V3.5L18.5 9H14z"/></svg>
                </div>
                <div class="text-container">
                    <div class="btn-text">Support de présentation</div>
                    <!-- Le sous-texte sera rempli par JavaScript -->
                    <div class="btn-subtext"></div>
                </div>
                <div class="loading-overlay"><div class="spinner"></div></div>
            </a>

            <!-- Bouton 2 : Linux -->
            <!-- Ajout de l'attribut  target="_blank" rel="noopener noreferrer" data-filesize pour la taille simulée du fichier -->
            <a href="assets/enonce_de_tp.pdf" download="enonce_de_tp.pdf" class="download-card" 
               onclick="downloadFile(event, this)"  target="_blank" rel="noopener noreferrer" data-filesize="52 Ko">
                <div class="icon-box">
                    <!-- Icône PDF Générique -->
                    <svg viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-3 15v-4h2v4h-2zm3-8V3.5L18.5 9H14z"/></svg>
                </div>
                <div class="text-container">
                    <div class="btn-text">Enoncés de Travaux Pratiques (TP) </div>
                    <!-- Le sous-texte sera rempli par JavaScript -->
                    <div class="btn-subtext"></div>
                </div>
                <div class="loading-overlay"><div class="spinner"></div></div>
            </a>

            <!-- Bouton 3 : Ressources -->
            <!-- Ajout de l'attribut  target="_blank" rel="noopener noreferrer" data-filesize pour la taille simulée du fichier -->
            <a href="assets/support_de_commande.pdf" download="support_de_commande.pdf" class="download-card" 
               onclick="downloadFile(event, this)"  target="_blank" rel="noopener noreferrer" data-filesize="1135 Ko">
                <div class="icon-box">
                    <!-- Icône PDF Générique -->
                    <svg viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-3 15v-4h2v4h-2zm3-8V3.5L18.5 9H14z"/></svg>
                </div>
                <div class="text-container">
                    <div class="btn-text"> Support de commande nécessaire</div>
                    <!-- Le sous-texte sera rempli par JavaScript -->
                    <div class="btn-subtext"></div>
                </div>
                <div class="loading-overlay"><div class="spinner"></div></div>
            </a>
            <a href="https://quiz.everestwebdeals.co/?form=f50df8bba4c657d8f7b1726765533ed3" target="_blank" class="download-card evaluation-card">
                <div class="icon-box">
                    <!-- Icône de Formulaire/Test (Clipboard/List) -->
                    <svg viewBox="0 0 24 24"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
                </div>
                <div class="text-container">
                    <div class="btn-text">Évaluation Finale - à 14h:00</div>
                    <!-- Texte pour indiquer que c'est un lien externe -->
                    <div class="btn-subtext">Cliquez pour ouvrir le test</div>
                </div>
            </a>

        </div>
    </main>

   <script>
        /**
         * Fonction exécutée au chargement pour lire les tailles des fichiers
         * et les afficher dans la carte de téléchargement.
         */
        document.addEventListener('DOMContentLoaded', () => {
            const cards = document.querySelectorAll('.download-card');
            cards.forEach(card => {
                const fileSize = card.getAttribute('data-filesize');
                const subtextElement = card.querySelector('.btn-subtext');
                
                if (fileSize && subtextElement) {
                    // Afficher le format et la taille
                    subtextElement.textContent = `PDF - ${fileSize}`;
                }
            });
        });

        /**
         * Gère le clic sur le bouton pour afficher l'animation de chargement (UX)
         * puis déclenche le téléchargement en utilisant le chemin d'accès réel (assets/)
         */
        function downloadFile(event, element) {
            // Empêche le comportement de lien par défaut (téléchargement immédiat)
            event.preventDefault();

            // Récupère les chemins du fichier
            const downloadUrl = element.getAttribute('href');
            const downloadName = element.getAttribute('download');

            // 1. Active l'animation de chargement (UX)
            element.classList.add('loading');

            // 2. Simule un délai réseau (1.5 secondes)
            setTimeout(() => {
                // 3. Désactive l'animation
                element.classList.remove('loading');
                
                // 4. Déclenche le téléchargement réel en utilisant le chemin 'assets/...'
                const link = document.createElement('a');
                link.href = downloadUrl;
                link.download = downloadName;
                
                document.body.appendChild(link);
                link.click(); // Déclenche le téléchargement du fichier
                document.body.removeChild(link);

            }, 1500); // Durée de l'animation de chargement
        }
    </script>
</body>
</html>